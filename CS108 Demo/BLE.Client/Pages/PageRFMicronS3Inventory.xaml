<pages:BasePage 
  xmlns="http://xamarin.com/schemas/2014/forms"
  xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
  xmlns:pages="clr-namespace:BLE.Client.Pages;assembly=BLE.Client"
  x:Class="BLE.Client.Pages.PageRFMicroS3Inventory"
  Title="Temperature Inventory"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
>

<!--
  xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.Xamarin.Forms;assembly=LiveChartsCore.SkiaSharpView.XamarinForms">
-->

  <StackLayout Orientation="Vertical">

    <StackLayout Orientation="Horizontal">

      <StackLayout Orientation="Vertical">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition/>
          </Grid.ColumnDefinitions>
          <Grid.RowDefinitions>
            <RowDefinition/>
          </Grid.RowDefinitions>

          <Image Grid.Row="0" Grid.Column="0" Aspect="AspectFill" Source="Assets/wholehuman.jpg" />
        
        </Grid>
      </StackLayout>

      <StackLayout Orientation="Vertical">
        <ListView x:Name="liewViewTagData" ItemsSource="{Binding TagInfoList}" SelectedItem="{Binding objItemSelected, Mode=TwoWay}" >
          <ListView.Header>
            <StackLayout>
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="0.6*" />
                  <ColumnDefinition Width="0.2*" />
                  <ColumnDefinition Width="0.2*" />
                </Grid.ColumnDefinitions>

                <BoxView Grid.Column="0" BackgroundColor="#C7C7C7"/>
                <BoxView Grid.Column="1" BackgroundColor="#BCBCBC"/>
                <BoxView Grid.Column="2" BackgroundColor="#C7C7C7"/>

                <Label Text="EPC" VerticalTextAlignment="Center" HorizontalTextAlignment="Center" FontSize="Small" VerticalOptions="CenterAndExpand" />
                <Label Grid.Column="1" Text="ºC" VerticalTextAlignment="Center" HorizontalTextAlignment="Center" FontSize="Small" VerticalOptions="CenterAndExpand" />
                <Label Grid.Column="2" Text="#"  VerticalTextAlignment="Center" HorizontalTextAlignment="Center" FontSize="Small" VerticalOptions="CenterAndExpand" />
              </Grid>
            </StackLayout>
          </ListView.Header>
            <ListView.ItemTemplate>
              <DataTemplate>
                <ViewCell>
                  <StackLayout Orientation="Vertical">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                  <ColumnDefinition Width="0.6*" />
                                  <ColumnDefinition Width="0.2*" />
                                  <ColumnDefinition Width="0.2*" />
                                </Grid.ColumnDefinitions>
                                <Label Grid.Column="0" Text="{Binding DisplayName}" VerticalTextAlignment="Start" FontSize="Small" />
                                <Label Grid.Column="1" Text="{Binding SensorAvgValue}" VerticalTextAlignment="Start" HorizontalTextAlignment="Start" TextColor="{Binding valueColor}"/>
                                <Label Grid.Column="2" Text="{Binding SucessCount}" VerticalTextAlignment="Start" HorizontalTextAlignment="Center" />
                            </Grid>
                  </StackLayout>
                </ViewCell>
              </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
      </StackLayout>

    </StackLayout>

    <!-- Bottom Inventory/Clear/Share Section --> 
    <StackLayout Orientation="Vertical" VerticalOptions="EndAndExpand">
      <Button Text="{Binding startInventoryButtonText}" Font="Large" Command="{Binding OnStartInventoryButtonCommand}"/>
        <StackLayout Orientation="Horizontal">
          <Button 
            Text="Clear" Font="Large" TextColor="White"
            Command="{Binding OnClearButtonCommand}" 
            HorizontalOptions="StartAndExpand" CornerRadius="11"
            BackgroundColor="#071D6E"
          />
          <Button 
            Text="Share" Font="Large" TextColor="White"
            Command="{Binding OnShareDataCommand}"   
            HorizontalOptions="EndAndExpand" CornerRadius="11"
            BackgroundColor="#071D6E"
          />
        </StackLayout>
    </StackLayout>

  </StackLayout>

</pages:BasePage>
